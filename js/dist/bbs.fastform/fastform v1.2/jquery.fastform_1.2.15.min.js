(function($){var defaults={localzRes:{atText:"at",statusNewText:"New",statusOkText:"Ok",statusErrorText:"Error",uplFilesTotalText:"Total",uplFilesFileText:"File"},formId:"form",modId:"",formData:[],currencyData:[],currencyId:"840",extListSrcUrl:"",readOnly:!1,hideTitle:!1,localiz_ageman:null,onChange:function(){},onChange_SrchbleFld:function(){},onChange_NotSrchbleFld:function(){}},methods={init:function(t){var e={};return this.each(function(){e=$.extend(!0,{},defaults,t),$(this).data("settings",e),initWidget(this)})},getFormData:function(t){return getFormData(this,t)},getShortFormData:function(t,e){return getShortFormData(this,t,e)},fillForm:function(t){this.each(function(){fillForm(this,convertToFormData(t))})},clearForm:function(){this.each(function(){clearForm(this)})}},stopEvnt=!1,getSettings=function(t){return $(t).data("settings")},extvalidtext_Valid=function(t,e){var l=getSettings(t),a="#frmVal_"+e.name+l.modId;if(e.hasOwnProperty("validrule")&&0==$(a).valid())return!1;var i={vmode:e.vmode,key:e.name,val:$(a).val()},n="validWaitMsg_"+e.name+l.modId;$(a).resetForm(),$(a).attr("readonly","readonly"),$("#"+n).length&&0!=$("#"+n).length||$("#ctrPane_"+e.name+l.modId).append('<em id="'+n+'" style="display: block;"><i class="fa fa-exclamation-triangle"></i> ���������, ���� ��������...</em>'),$.ajax({url:e.validatorurl+"&jsoncallback=?",dataType:"json",async:!1,data:i,success:function(t){$("#"+n).remove(),$(a).removeAttr("readonly"),$.map(t,function(t){0==t.isvalid&&($(a).parent().addClass("state-error").removeClass("state-success"),$('em[for="frmVal_'+e.name+l.modId+'"]').remove(),$(a).parent().parent().append('<em for="frmVal_'+e.name+l.modId+'" class="invalid" style="display: block;">'+e.errvalidmsg+"</em>"))})}})},clearAdvList=function(t,e){var l=getSettings(t),a="#frmVal_"+e+l.modId;parentname=$(a).data("parentname"),parentname||(parentname=""),""!=parentname&&$(a).html('<option value=""></option>'),$(a).val("").trigger("chosen:updated"),$(a).valid()},getUrlAdvList=function(t,e){var l=getSettings(t),a=$("#frmVal_"+e+l.modId).data("parentname");return a||(a=""),"/desktopmodules/ows/im.aspx?_OWS_=m:dnn_owsAppSrc,id:14032023-5508-0597-AC76-50E6C8A72BA3&srcname="+e+(""!=a?"&pfltr="+$("#frmVal_"+a+l.modId).val():"")},extList_Load=function(t,e,l,a){var i=getSettings(t),n="#frmVal_"+e+i.modId;$(n).html(""),f={srcname:l,pid:a},$.ajax({url:i.extListSrcUrl+"&jsoncallback=?",dataType:"json",async:!1,data:f,success:function(l){$(n).append('<option value=""></option>'),$.map(l,function(t){$(n).append('<option value="'+t.id+'">'+t.title+"</option>")}),extList_Fill(t,e)}})},extList_Fill=function(t,e){var l=getSettings(t),a=$("#formPane"+l.modId).data("form");a&&"object"==typeof a&&0!=a.length&&$.each(a,function(t,a){if("extlist"==a.type&&a.name==e){var i=a.value;return void(i&&($("#frmVal_"+e+l.modId).val(i),$("#frmVal_"+e+l.modId).change(),$("#frmVal_"+e+l.modId).valid()))}})},initWidget=function($this,ro){var settings=getSettings($this),d=settings.formData;d&&"object"==typeof d&&0!=d.length&&($.validator.addMethod("regex",function(t,e,l){return l.test(t)},"Please enter a valid value."),$(settings.formId).validate({errorElement:"em",errorClass:"invalid",errorPlacement:function(t,e){var l,a=!1;"undefined"==$(e).attr("id")&&(a=!0),l=$(e).hasClass("selectpicker")?$(e).parent():$(e),$(e).hasClass("ignore")&&(a=!0);var i=$(e).attr("disabled"),n=$(e).attr("readonly");"undefined"!=typeof i&&i!==!1&&(a=!0),"undefined"!=typeof n&&n!==!1&&(a=!0),a||t.insertAfter(l)},highlight:function(t,e,l){var a,i=!1;a=$(t).hasClass("selectpicker")?$(t).parent():$(t).parent(),"undefined"==$(t).attr("id")&&(i=!0),$(t).hasClass("ignore")&&(i=!0);var n=$(t).attr("disabled"),s=$(t).attr("readonly");if("undefined"!=typeof n&&n!==!1&&(i=!0),"undefined"!=typeof s&&s!==!1&&(i=!0),i)return void a.removeClass("state-error").removeClass("state-success");a.addClass("state-error").removeClass("state-success");var r=$("#"+$(t).attr("id")+"_chosen a");r.removeClass("state-success").addClass("state-error")},unhighlight:function(t,e,l){var a;if(a=$(t).hasClass("selectpicker")?$(t).parent():$(t).parent(),"undefined"!=$(t).attr("id")&&!$(t).hasClass("ignore")){a.removeClass("state-error").addClass("state-success");var i=$("#"+$(t).attr("id")+"_chosen a");i.removeClass("state-error"),""!=$(t).val()&&i.addClass("state-success")}}}),$.each(d,function(i,itm){var pObj=$("#fldPane_"+itm.name+settings.modId),cntrObj="#frmVal_"+itm.name+settings.modId,defVsl=!0,defEnbl=!0,cntrEnbl=!0,cntrReq=!1,html="";if(pObj.length){var itmAlt=$(pObj).data("prop");if(itmAlt&&"object"==typeof itmAlt&&(itmAlt.name=itm.name,itm=mixerFormData(itmAlt,itm)),itm.hasOwnProperty("visible")&&(defVsl=itm.visible),itm.hasOwnProperty("enable")&&(defEnbl=itm.enable,cntrEnbl=defEnbl),itm.hasOwnProperty("validrule")&&(cntrReq=itm.validrule.required),"text"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' readonly="readonly"':"")+(0==defEnbl?' disabled="disabled"':"")+(itm.defval?' value="'+itm.defval+'"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),html+="</label></div>",pObj.replaceWith(html),itm.hasOwnProperty("mask")&&itm.mask&&$(cntrObj).mask(itm.mask),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})),"extvalidtext"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',html+='<div class="input-group">',itm.hasOwnProperty("leftsubtitle")&&""!=itm.leftsubtitle&&(html+='<div class="input-group-addon">'+itm.leftsubtitle+"</div>"),html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' readonly="readonly"':"")+(0==defEnbl?' disabled="disabled"':"")+(itm.defval?' value="'+itm.defval+'"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("rightsubtitle")&&""!=itm.rightsubtitle&&(html+='<div class="input-group-addon">'+itm.rightsubtitle+"</div>"),html+="</div>",html+="</label></div>",pObj.replaceWith(html),$(cntrObj).on("change",function(){extvalidtext_Valid($this,itm),itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))}),$(cntrObj).rules("add",{regex:"^[a-zA-Z'.\\s]{1,40}$"})),"multitext"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label '+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="textarea'+(cntrReq?" reqInd":"")+'">',html+='<textarea rows="'+itm.rows+'" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+">"+(itm.defval?itm.defval:"")+"</textarea>",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),html+="</label></div>",pObj.replaceWith(html),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this)})),"rangeslider"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" class="rangesliderpane" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',html+='<input type="hidden" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(itm.defval?' value="'+itm.defval+'"':"")+" />",html+="</label></div>",pObj.replaceWith(html),$(cntrObj).ionRangeSlider({type:"double",min:itm.options.min,max:itm.options.max,grid:itm.options.grid,onFinish:function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))}})),"rangedigit"==itm.type){html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">";var plcholder="",plcholder_min="From",plcholder_max="To",strArrVal="",defval_min="",defval_max="";itm.hasOwnProperty("plcholder")&&(plcholder=itm.plcholder),plcholder_min=itm.hasOwnProperty("plcholder_min")?itm.plcholder_min:""==plcholder?plcholder_min:plcholder+": "+plcholder_min,plcholder_max=itm.hasOwnProperty("plcholder_max")?itm.plcholder_max:""==plcholder?plcholder_max:plcholder+": "+plcholder_max,""!=itm.defval&&(strArrVal="["+itm.defval.replace(/|/g,",")+"]",$.isArray(eval(strArrVal))?(defval_min=eval(strArrVal)[0],defval_max=eval(strArrVal)[1]):strArrVal=""),settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<div class="form-inline">',html+='<div class="form-group">',html+='<label class="input'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',itm.hasOwnProperty("prepcssicn")&&itm.prepcssicn&&(html+='<i class="icon-prepend '+itm.prepcssicn+'"></i>'),itm.hasOwnProperty("appcssicn")&&itm.appcssicn&&(html+='<i class="icon-append '+itm.appcssicn+'"></i>'),html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'_min" name="frmVal_'+itm.name+settings.modId+'_min"'+(ro?' readonly="readonly"':"")+(0==defEnbl?' disabled="disabled"':"")+(defval_min?' value="'+defval_min+'"':"")+(plcholder_min?' placeholder="'+plcholder_min+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("tooltip_min")&&itm.tooltip_min&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip_min+"</b>"),html+="</label>",html+="</div>",html+='<div class="form-group">',html+='<label class="input'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'_max" name="frmVal_'+itm.name+settings.modId+'_max"'+(ro?' readonly="readonly"':"")+(0==defEnbl?' disabled="disabled"':"")+(defval_max?' value="'+defval_max+'"':"")+(plcholder_max?' placeholder="'+plcholder_max+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("tooltip_max")&&itm.tooltip_max&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip_max+"</b>"),html+="</label>",html+="</div>",html+="</div>",html+='<input type="hidden" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(itm.defval?' value="'+itm.defval+'"':"")+">",html+="</div>",pObj.replaceWith(html),itm.hasOwnProperty("mask")&&itm.mask&&($(cntrObj+"_min").mask(itm.mask),$(cntrObj+"_max").mask(itm.mask)),""!=strArrVal&&$(cntrObj).val(itm.defval),$(cntrObj+"_min,"+cntrObj+"_max").on("change",function(){var t=$(cntrObj+"_min").val(),e=$(cntrObj+"_max").val();t=t.replace(/ /g,""),e=e.replace(/ /g,""),1==isNaN(t)&&($(cntrObj+"_min").val(""),t=""),1==isNaN(e)&&($(cntrObj+"_max").val(""),e="");var l=(""==t?"null":t)+"|"+(""==e?"null":e);"null:null"==l&&(l=""),$(cntrObj).val(l),itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,l),settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this)})}if("email"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(cntrReq?" reqInd":"")+'">',html+='<i class="icon-append fa fa-envelope"></i>',html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+(itm.defval?' value="'+itm.defval+'"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),html+="</label></div>",pObj.replaceWith(html),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})),"phone"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(cntrReq?" reqInd":"")+'">',html+='<i class="icon-append fa fa-phone"></i>',html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+(itm.defval?' value="'+itm.defval+'"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+("0"!=itm.maxlen?' maxlength="'+itm.maxlen+'"':"")+" />",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),html+="</label></div>",pObj.replaceWith(html),itm.mask&&$(cntrObj).mask(itm.mask,{placeholder:"X"}),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})),"date"==itm.type){var dateformat="dd.mm.yy";html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="input'+(cntrReq?" reqInd":"")+'">',html+='<i class="icon-append fa fa-calendar"></i>',html+='<input type="text" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+(itm.defval?' value="'+itm.defval+'"':"")+(itm.plcholder?' placeholder="'+itm.plcholder+'"':"")+"/>",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),itm.hasOwnProperty("dateformat")&&""!=itm.dateformat&&(dateformat=itm.dateformat),html+="</label></div>",pObj.replaceWith(html),$(cntrObj).datepicker({dateFormat:dateformat,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'}),$(cntrObj).datepicker($.datepicker.regional.ru),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})}if("money"==itm.type){html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">";var plcholder="",strArrVal="",defval_prc="",defval_cur=settings.currencyId,inptmask="# ##0";itm.hasOwnProperty("plcholder")&&(plcholder=itm.plcholder),itm.hasOwnProperty("defval")&&""!=itm.defval&&(strArrVal="["+itm.defval.replace(/|/g,",")+"]",$.isArray(eval(strArrVal))?(defval_prc=eval(strArrVal)[0],defval_cur=eval(strArrVal)[1]):strArrVal=""),settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label id="frmVal_moneyInput_'+itm.name+settings.modId+'_temp" class="moneyinput"></label>',html+='<input type="hidden" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(itm.defval?' value="'+itm.defval+'"':"")+">",html+="</div>",pObj.replaceWith(html),$("#frmVal_moneyInput_"+itm.name+settings.modId+"_temp").bbsMoneyInput({localzRes:{placeholderText:""},modId:itm.name+settings.modId,dVal:itm.defval,defCurrId:settings.currencyId,currListData:settings.currencyData,isReq:cntrReq,onChange:function(t){$(cntrObj).val(t),itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,dval),settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this)}})}if("list"==itm.type||"select"==itm.type){var d1;html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="select'+(cntrReq?" reqInd":"")+'">',html+='<select id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+">",html+='<option value=""></option>',itm.hasOwnProperty("listdata")&&(d1=itm.listdata,$.each(d1,function(t,e){html+='<option value="'+e.value+'"'+(itm.defval==e.value?' selected="selected"':"")+(e.dis?' disabled="disabled"':"")+">"+e.title+"</option>"})),html+="</select>",html+="<i></i>",itm.hasOwnProperty("tooltip")&&itm.tooltip&&(html+='<b class="tooltip tooltip-top-right">'+itm.tooltip+"</b>"),html+="</label></div>",pObj.replaceWith(html),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})}if("extlist"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="select'+(cntrReq?" reqInd":"")+'" >',html+='<select id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(itm.plcholder?' data-placeholder="'+itm.plcholder+'"':'data-placeholder=" "')+">",html+='<option class="plcholder" value="" disabled="disabled">'+(itm.plcholder?itm.plcholder:"")+"</option>",html+="</select>",html+="<i></i>",html+="</label></div>",pObj.replaceWith(html),itm.listautoload?setControlListData($this,itm.name,null):cntrEnbl=!1,$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})),"selectpicker"==itm.type){if(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="selectpicker'+(cntrReq?" reqInd":"")+'">',html+='<select id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'" data-none-selected-text=""'+(itm.plcholder?' data-placeholder="'+itm.plcholder+'"':'data-placeholder=" "')+' class="selectpicker form-control" data-size="7" data-haslist="0">',html+='<option class="plcholder" value="">'+(itm.plcholder?itm.plcholder:"")+"</option>",itm.hasOwnProperty("listdata")){var d1=itm.listdata;$.each(d1,function(t,e){html+='<option value="'+e.value+'"'+(itm.defval==e.value?' selected="selected"':"")+(e.dis?' disabled="disabled"':"")+(e.hasOwnProperty("icncss")?' data-icon="'+e.icncss+'"':"")+">"+e.title+"</option>"})}html+="</select>",html+="</label></div>",pObj.replaceWith(html),!itm.hasOwnProperty("listdata")&&itm.hasOwnProperty("lstgrpguid")&&itm.hasOwnProperty("listautoload")&&0==itm.listautoload&&(cntrEnbl=!1),$(cntrObj).on("show.bs.select",function(t){!itm.hasOwnProperty("listdata")&&itm.hasOwnProperty("lstgrpguid")&&setControlListData($this,itm.name,null)}),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||($(this).valid(),settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})}if("mdselector"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="select'+(cntrReq?" reqInd":"")+'">',html+='<select id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"'+(itm.plcholder?' data-placeholder="'+itm.plcholder+'"':'data-placeholder=" "')+' class="form-control js-data-example-ajax">',html+="</select>",html+="</label></div>",pObj.replaceWith(html),$("#frmVal_"+itm.name+settings.modId).select2({ajax:getMDSelectorData($this,itm.name),escapeMarkup:function(t){return t},minimumResultsForSearch:settings.minCurrResultsForSearch,minimumInputLength:0,allowClear:!1,templateResult:getSelect2TempResult,templateSelection:function(t){return t.name}})),"advlist"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="select'+(cntrReq?" reqInd":"")+'">',html+='<select id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'" data-type="advlist"'+(itm.plcholder?' data-placeholder="'+itm.plcholder+'"':'data-placeholder=" "')+(""!=itm.parentname?' data-parentname="'+itm.parentname+'"':"")+">",html+='<option value=""></option>',html+="</select>",html+="</label></div>",pObj.replaceWith(html),$(cntrObj).ajaxChosen({dataType:"json",type:"POST",url:""},{loadingImg:"/images/loading16.gif",minLength:2,generateUrl:function(t){return getUrlAdvList($this,itm.name)}},{width:"100%",no_results_text:"�� ������� ��: ",allow_single_deselect:!0}),$(cntrObj).on("change",function(){$(this).valid(),itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))}),""!=itm.parentname&&$("#frmVal_"+itm.parentname+settings.modId).on("change",function(){clearAdvList($this,itm.name)})),"chek"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="checkbox'+(cntrReq?" reqInd":"")+'"><input type="checkbox" id="frmVal_'+itm.name+settings.modId+'" value="1" name="frmVal_'+itm.name+settings.modId+'"'+(ro?' disabled="disabled"':"")+(itm.defval?' checked="checked"':"")+"><i></i>"+itm.title+"</label></div>",pObj.replaceWith(html),$(cntrObj).on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})),"radioboolbtns"==itm.type){html='<div id="ctrPane_'+itm.name+settings.modId+'" class="btn-group'+(itm.hasOwnProperty("isrespons")?itm.isrespons?" btn-group-justified":"":" btn-group-justified")+' btn-group-radio" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+' data-toggle="buttons">';var nulltxt=itm.hasOwnProperty("nulltxt")?itm.nulltxt:"Nothing",ontxt=itm.hasOwnProperty("ontxt")?itm.ontxt:"On",offtxt=itm.hasOwnProperty("offtxt")?itm.offtxt:"Off";settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),""!=nulltxt&&(html+='<label class="btn radio'+(""===itm.defval?" active":"")+(cntrReq?" reqInd":"")+'"><input type="radio" value="" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(""===itm.defval?' checked="checked"':"")+' autocomplete="off">'+nulltxt+"</label>"),""!=ontxt&&(html+='<label class="btn radio'+(1===itm.defval||"1"===itm.defval||itm.defval===!0?" active":"")+(cntrReq?" reqInd":"")+'"><input type="radio" value="1" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(1===itm.defval||"1"===itm.defval||itm.defval===!0?' checked="checked"':"")+' autocomplete="off">'+ontxt+"</label>"),""!=offtxt&&(html+='<label class="btn radio'+(0===itm.defval||"0"===itm.defval||itm.defval===!1?" active":"")+(cntrReq?" reqInd":"")+'"><input type="radio" value="0" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(0===itm.defval||"0"===itm.defval||itm.defval===!1?' checked="checked"':"")+' autocomplete="off">'+offtxt+"</label>"),html+="</div>",pObj.replaceWith(html),$('input[name="frmVal_'+itm.name+settings.modId+'_radiobtn"]').on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})}if("radiobool"==itm.type){var nulltxt=itm.hasOwnProperty("nulltxt")?itm.nulltxt:"Nothing",ontxt=itm.hasOwnProperty("ontxt")?itm.ontxt:"On",offtxt=itm.hasOwnProperty("offtxt")?itm.offtxt:"Off";html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<div class="inline-group">',html+='<label class="radio'+(cntrReq?" reqInd":"")+'"><input type="radio" value="" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(""===itm.defval?' checked="checked"':"")+"><i></i>"+nulltxt+"</label>",html+='<label class="radio'+(cntrReq?" reqInd":"")+'"><input type="radio" value="1" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(1===itm.defval||"1"===itm.defval||itm.defval===!0?' checked="checked"':"")+"><i></i>"+ontxt+"</label>",html+='<label class="radio'+(cntrReq?" reqInd":"")+'"><input type="radio" value="0" name="frmVal_'+itm.name+settings.modId+'_radiobtn"'+(ro?' disabled="disabled"':"")+(0===itm.defval||"0"===itm.defval||itm.defval===!1?' checked="checked"':"")+"><i></i>"+offtxt+"</label>",html+="</div>",html+="</div>",pObj.replaceWith(html),$('input[name="frmVal_'+itm.name+settings.modId+'_radiobtn"]').on("change",function(){itm.hasOwnProperty("triggers")&&triggerFldProc($this,itm.triggers,$(this).val()),stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))})}"attachfiles"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle&&""!=itm.title&&(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+'">'+itm.title+"</label>"),itm.hasOwnProperty("infotext")&&""!=itm.infotext&&(html+='<div class="alert alert-info fade in" style="margin:5px 0;">'+itm.infotext+"</div>"),html+='<table id="uplFiles_'+itm.name+settings.modId+'" class="table table-bordered table-striped" style="width:100%;">',html+='<thead style="background:#ECECEC;">',html+='<tr><th style="width:30px;"></th><th>'+settings.localzRes.uplFilesFileText+'</th><th style="width:50px;"></th></tr>',html+="</thead>",html+="<tbody></tbody>",html+='<tfoot style="background:#ECECEC;font-weight:bold;">',html+="<tr>",html+='<td colspan="3">'+settings.localzRes.uplFilesTotalText+' <span id="uplFiles_Total_'+itm.name+settings.modId+'" class="badge rounded-2x badge-light" style="font-size:13px;">0</span></td>',html+="</tr>",html+="</tfoot>",html+="</table>",html+='<div class="input-group">',html+='<button id="uplFiles_Button_'+itm.name+settings.modId+'" type="button" class="btn-u" onclick="uploadFileOpenEditor(\''+itm.name+'\')">&nbsp<i class="fa fa-plus"></i>&nbsp</button>',html+="</div>",html+='<input type="hidden" id="frmVal_'+itm.name+settings.modId+'" name="frmVal_'+itm.name+settings.modId+'"> ',pObj.replaceWith(html)),"ageman"==itm.type&&(html='<div id="ctrPane_'+itm.name+settings.modId+'" data-visible="'+defVsl+'" data-enable="'+defEnbl+'"'+(0==defVsl?' style="display:none;"':"")+">",settings.hideTitle||(html+='<label class="label'+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'" for="frmVal_'+itm.name+settings.modId+'">'+itm.title+"</label>"),html+='<label class="ageman '+(0==defEnbl?" state-disabled":"")+(cntrReq?" reqInd":"")+'">',html+='<div id="frmVal_'+itm.name+settings.modId+'"></div>',html+="</label></div>",pObj.replaceWith(html),$.fn.editableform.buttons='<button type="button" class="btn btn-success editable-submit btn-mini"><i class="fa fa-check"></i></button><button type="button" class="btn editable-cancel btn-mini"><i class="fa fa-times"></i></button>',$("#frmVal_"+itm.name+settings.modId).agemaneditor({localzRes:settings.localiz_ageman,onChange:function(){stopEvnt||(settings.onChange.call(this),itm.srchble?settings.onChange_SrchbleFld.call(this):settings.onChange_NotSrchbleFld.call(this))}})),setControlEnable($this,itm.name,cntrEnbl),setControlValidrule($this,itm)}}),fillForm($this,settings.formData))},mixerFormData=function(t,e){var l=e;return t&&"object"==typeof t?l.name!=t.name?l:t.hasOwnProperty("type")&&0==isCompatFormData(t.type,l.type)?l:($.each(t,function(t,e){l[t]=e}),l):l},isCompatFormData=function(t,e){var l=!1;return"text"!=e&&"phone"!=e&&"email"!=e&&"extvalidtext"!=e&&"multitext"!=e&&"rangedigit"!=e&&"rangeslider"!=e&&"money"!=e||"text"!=t&&"phone"!=t&&"email"!=t&&"extvalidtext"!=t&&"multitext"!=t&&"rangedigit"!=t&&"rangeslider"!=t&&"selectpicker"!=t&&"ageman"!=t||(l=!0),"list"!=e&&"select"!=e&&"extlist"!=e&&"selectpicker"!=e||"list"!=t&&"select"!=t&&"extlist"!=t&&"selectpicker"!=t||(l=!0),
"chek"!=e&&"switch"!=e&&"radioboolbtns"!=e&&"radiobool"!=e||"chek"!=t&&"switch"!=t&&"radioboolbtns"!=t&&"radiobool"!=t||(l=!0),"attachfiles"==e&&"attachfiles"==t&&(l=!0),l},setControlVal=function(t,e,l){var a=getSettings(t),i=a.formData;i&&"object"==typeof i&&0!=i.length&&$.each(i,function(t,i){var n="#frmVal_"+i.name+a.modId;if(i.name==e)return"text"!=i.type&&"list"!=i.type&&"extlist"!=i.type||$(n).val(l),!1})},setControlListData=function(t,e,l){var a=getSettings(t),i=a.formData;i&&"object"==typeof i&&0!=i.length&&$.each(i,function(i,n){if(n.name==e){if("extlist"!=n.type&&"selectpicker"!=n.type)return!1;var s="#frmVal_"+n.name+a.modId;if(1==$(s).data("haslist"))return!1;$(s).html('<option class="plcholder" value="">'+($(s).attr("data-placeholder")?$(s).data("placeholder"):"")+"</option>"),$(s).val("");var r,d=a.extListSrcUrl,m=!0;return""!=n.listsrcurl&&(d=n.listsrcurl),l&&""!=l||(m=!!n.hasOwnProperty("listautoload")&&n.listautoload),m?(r={apikey:"8d3c9b30-9772-40d8-801f-90931b00c990",lstgrpguid:n.lstgrpguid,pid:l},$.ajax({url:d+"&jsoncallback=?",dataType:"json",async:!1,data:r,success:function(e){var l=!0;e&&"object"==typeof e||(l=!1),0==e.length&&(l=!1),l?($(s).html('<option class="plcholder" value="">'+($(s).attr("data-placeholder")?$(s).data("placeholder"):"")+"</option>"),$.map(e,function(t){$(s).append('<option value="'+t.id+'"'+(t.hasOwnProperty("icncss")?' data-icon="'+t.icncss+'"':"")+">"+t.title+"</option>")}),"selectpicker"==n.type&&(e.length>=10?$(s).attr("data-live-search","true"):$(s).removeAttr("data-live-search"),$(s).data("haslist",1),$(s).selectpicker("refresh"),$(s).selectpicker("render"))):setControlEnable(t,n.name,!1),setControlVal(t,n.name,"")}}),!1):(setControlEnable(t,n.name,!1),!1)}})},getMDSelectorData=function(t,e){var l,a=getSettings(t),i=a.formData,n=!0,s=a.extListSrcUrl;if(i&&"object"==typeof i&&0!=i.length&&($.each(i,function(t,a){if(a.name==e&&"mdselector"==a.type)return l=a,!1}),null!=l))return l.hasOwnProperty("listautoload")&&(n=l.listautoload),""!=l.listsrcurl&&(s=l.listsrcurl),n?{url:s,dataType:"json",delay:250,cache:!1,type:"GET",data:function(t){return{skey:t.term,pg:t.page,apikey:"8d3c9b30-9772-40d8-801f-90931b00c991",shmguid:l.shmguid}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}}}:(setControlEnable(t,l.name,!1),!1)},getSelect2TempResult=function(t){if(t.loading)return t.text;var e='<div class="select2-result-repository clearfix"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+t.name+"</div>";return e+="</div></div>"},setControlEnable=function(t,e,l){var a=getSettings(t),i=a.formData;i&&"object"==typeof i&&0!=i.length&&$.each(i,function(t,i){if(i.name==e)return"text"!=i.type&&"list"!=i.type&&"extlist"!=i.type||(l?($("#ctrPane_"+i.name+a.modId+" label.label").removeClass("state-disabled"),$("#ctrPane_"+i.name+a.modId+" label.input").removeClass("state-disabled"),$("#ctrPane_"+i.name+a.modId+" label.select").removeClass("state-disabled"),$("#frmVal_"+i.name+a.modId).removeAttr("disabled")):($("#ctrPane_"+i.name+a.modId+" label.label").addClass("state-disabled"),$("#ctrPane_"+i.name+a.modId+" label.input").addClass("state-disabled"),$("#ctrPane_"+i.name+a.modId+" label.select").addClass("state-disabled"),$("#frmVal_"+i.name+a.modId).attr("disabled","disabled"))),"money"==i.type&&(l?$("#frmVal_"+i.name+a.modId+"_curid").prop("disabled",!1):$("#frmVal_"+i.name+a.modId+"_curid").prop("disabled",!0)),"selectpicker"==i.type&&(l?$("#frmVal_"+i.name+a.modId).prop("disabled",!1):$("#frmVal_"+i.name+a.modId).prop("disabled",!0),$("#frmVal_"+i.name+a.modId).selectpicker("refresh")),!1})},setControlVisible=function(t,e,l){var a=getSettings(t),i=a.formData;i&&"object"==typeof i&&0!=i.length&&$.each(i,function(t,i){if(i.name==e){if(i.hasOwnProperty("visible")&&0==i.visible)return!1;var n="";return n=l?"":"none",$("#ctrPane_"+i.name+a.modId).css("display",n),$("#frmVal_"+i.name+a.modId).val(""),!1}})},setControlValidrule=function(t,e){if(0!=e.hasOwnProperty("validrule")){var l=e.validrule;if(null!=e&&"object"==typeof e){var a=getSettings(t),i=0,n="";return null!=l&&"object"==typeof l&&0!=l.length&&(i=1),"text"!=e.type&&"list"!=e.type&&"extlist"!=e.type&&"selectpicker"!=e.type||(n="#frmVal_"+e.name+a.modId,$(n).rules("remove"),1==i&&$(n).rules("add",l)),"money"==e.type&&(n="#frmVal_money"+e.name+a.modId+"_curid",$(n).rules("remove"),1==i&&$(n).rules("add",l)),!1}}},fillForm=function($this,df){var settings=getSettings($this),isClr=!1,cntrObj="",itmval;null==df||"object"!=typeof df?isClr=!0:0==df.length&&(isClr=!0),isClr&&(df=settings.formData),stopEvnt=!0,$.each(df,function(i,itm){if(cntrObj="#frmVal_"+itm.name+settings.modId,itmval=isClr?"":itm.hasOwnProperty("value")?itm.value:itm.hasOwnProperty("defval")?itm.defval:"","text"!=itm.type&&"extvalidtext"!=itm.type&&"multitext"!=itm.type&&"email"!=itm.type&&"phone"!=itm.type&&"date"!=itm.type&&"list"!=itm.type&&"extlist"!=itm.type&&"selectpicker"!=itm.type||($(cntrObj).val(itmval),$(cntrObj).change()),"rangeslider"==itm.type){var sldr=$(cntrObj).data("ionRangeSlider"),strArrVal="",defval_min="",defval_max="";""!=itmval?(strArrVal="["+itmval.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))?(defval_min=eval(strArrVal)[0],defval_max=eval(strArrVal)[1],sldr.update({from:defval_min,to:defval_max})):sldr.reset()):sldr.reset()}if("rangedigit"==itm.type){var strArrVal="",defval_min="",defval_max="";""!=itmval&&(strArrVal="["+itmval.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))?(defval_min=eval(strArrVal)[0],defval_max=eval(strArrVal)[1]):itmval=""),$(cntrObj+"_min").val(defval_min),$(cntrObj+"_max").val(defval_max),$(cntrObj).val(itmval),$(cntrObj).change()}if("money"==itm.type){var strArrVal="",prcVal="",curVal=settings.currencyId;""!=itmval&&(strArrVal="["+itmval.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))&&(prcVal=eval(strArrVal)[0],curVal=eval(strArrVal)[1])),$(cntrObj+"_price").val(prcVal),$(cntrObj+"_curid").val(curVal),$(cntrObj).val(prcVal+"|"+curVal),$(cntrObj+"_curid").change()}if("advlist"==itm.type){var d=itmval,isEmpty=!0,isExt=!1;null!=d&&"object"==typeof d&&0!=d.length&&(isEmpty=!1),0==isEmpty&&(itmval=isClr?"":d[0].id,$(cntrObj+' option[value="'+itmval+'"]').each(function(){isExt=!0}),isExt||$(cntrObj).append('<option value="'+itmval+'">'+d[0].title+"</option>"),$(cntrObj).val(itmval),$(cntrObj).trigger("chosen:updated"),$(cntrObj).change())}if("chek"==itm.type){var ischk=!1;"1"==itmval&&(ischk=!0),$(cntrObj).prop("checked",ischk),$(cntrObj).change()}if("radioboolbtns"!=itm.type&&"radiobool"!=itm.type||($("#ctrPane_"+itm.name+settings.modId+" label input").each(function(){$(this).parent().removeClass("active"),$(this).removeAttr("checked"),""!=itmval?$(this).val()==itmval&&($(this).parent().addClass("active"),$(this).attr("checked","checked")):""==$(this).val()&&($(this).parent().addClass("active"),$(this).attr("checked","checked"))}),$('input:radio[name="frmVal_'+itm.name+settings.modId+'_radiobtn"]:checked').val(itmval)),"ageman"==itm.type){var strArrVal="";""!=itmval&&(strArrVal=itmval.replace(/\|/g,",")),$("#frmVal_"+itm.name+settings.modId).agemaneditor("setValue",strArrVal)}}),stopEvnt=!1},clearForm=function(t){fillForm(t)},showForm=function(t){var e=getSettings(t);$("#formPane"+e.modId).removeAttr("style")},triggerFldProc=function(t,e,l){var a,i=getSettings(t),n=!1;$.each(e,function(e,s){if(!s.onval&&s.onval==l)return s.hasOwnProperty("controls")&&$.each(s.controls,function(e,n){setControlEnable(t,n.name,n.enable),setControlVisible(t,n.name,n.visible),1==n.updatelistdata&&(a="#frmVal_"+n.name+i.modId,$(a).data("haslist",0),setControlListData(t,n.name,l))}),n=!0,!1}),0==n&&$.each(e,function(e,n){if(null==n.val)return n.hasOwnProperty("controls")&&$.each(n.controls,function(e,n){setControlEnable(t,n.name,n.enable),setControlVisible(t,n.name,n.visible),1==n.updatelistdata&&(a="#frmVal_"+n.name+i.modId,$(a).data("haslist",0),setControlListData(t,n.name,l))}),!1})},getFormData=function(t,e){var l=getSettings(t);if(!e&&!$(l.formId).valid())return null;var a=l.formData,i=null;return a&&"object"==typeof a?0==a.length?null:($.each(a,function(t,e){if(i="","text"!=e.type&&"multitext"!=e.type&&"email"!=e.type&&"phone"!=e.type&&"date"!=e.type&&"list"!=e.type&&"extlist"!=e.type&&"selectpicker"!=e.type&&"accountselector"!=e.type&&"mdselector"!=e.type||(i=$("#frmVal_"+e.name+l.modId).val()),"rangeslider"==e.type&&(i=$("#frmVal_"+e.name+l.modId).val().replace(/;/g,"|")),"rangedigit"==e.type&&(i=$("#frmVal_"+e.name+l.modId).val()),"advlist"==e.type&&(i=$("#frmVal_"+e.name+l.modId).val()),"chek"==e.type&&(i=$("#frmVal_"+e.name+l.modId).attr("checked")?"1":"0"),"money"==e.type&&(i=$("#frmVal_moneyInput_"+e.name+l.modId+"_temp").bbsMoneyInput("getValue")),"radioboolbtns"!=e.type&&"radiobool"!=e.type||(i=$('input:radio[name="frmVal_'+e.name+l.modId+'_radiobtn"]:checked').val()),"ageman"==e.type&&(i=$("#frmVal_"+e.name+l.modId).agemaneditor("getValue")),"attachfiles"==e.type){var a=$("#frmVal_"+e.name+l.modId).val();""!=a&&(i=$.parseJSON($("#frmVal_"+e.name+l.modId).val()))}null==i&&(i=""),e.value=i}),a):null},getShortFormData=function(t,e,l){var a=getSettings(t);if(e||$(a.formId).valid()){var i=getFormData(t,e);if(i&&"object"==typeof i&&0!=i.length){var n=[];return $.each(i,function(t,e){if(e.srchble){if("chek"==e.type){if(""==e.value||0==e.value||null==e.value)return!0}else if(1==l&&(""==e.value||null==e.value))return!0;var a={name:e.name,type:e.type,val:e.value};n.push(a)}}),n}}},convertToFormData=function(t,e){if(null!=e&&"object"==typeof e&&0!=e.length){var l=getSettings(t),a=l.formData;if(null!=a&&"object"==typeof a&&0!=a.length){var i,n=[];return null==e[0]||"object"!=typeof e[0]?$.each(e,function(t,e){$.each(a,function(l,a){if(t==a.name)return n.push({name:a.name,value:e,type:a.type}),!0})}):$.each(e,function(t,e){if(e.hasOwnProperty("value"))i=e.value;else{if(!e.hasOwnProperty("val"))return!0;i=e.val}$.each(a,function(t,l){if(e.name==l.name)return n.push({name:l.name,value:i,type:l.type}),!1})}),n}}},getMoneyCurSelectorTemp=function(t){if(!t.id)return t.text;var e=$(t.element).data("icn"),l=($(t.element).attr("value"),$(t.element).html()),a='<div class="select2-result-repository"><div class="select2-result-repository__cssicn"><i class="'+e+'"></i></div><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+l+"</div></div></div>";return a};$.fn.fastForm=function(t){return methods[t]?methods[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.fastForm"):methods.init.apply(this,arguments)}})(jQuery);