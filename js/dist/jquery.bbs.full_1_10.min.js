/* Project: BBS.Full | Ver: 1.10 | Author: dnn.site | Website: http://dnn.site  */
function bbs_getNewGuid(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function bbs_getUrlParam(t){var e,l,a=decodeURIComponent(window.location.search.substring(1)),n=a.split("&");for(l=0;l<n.length;l++)if(e=n[l].split("="),e[0]===t)return void 0===e[1]||e[1]}function bbs_getDataFromUrlParam(){for(var t={},e=window.location.search.substring(1),l=e.split("&"),a=0;a<l.length;a++){var n=l[a].split("=");if("undefined"==typeof t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var r=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=r}else t[n[0]].push(decodeURIComponent(n[1]))}return t}function bbs_convertUrlParamDataToFormData(t){return fd=[],$.each(t,function(t,e){fd.push($.parseJSON('{"name":"'+t+'","val":"'+e+'"}'))}),fd}function bbs_convertDataToUrlParam(t){var e="",l="";return t&&"object"==typeof t?($.each(t,function(t,e){l+=(""!=l?",":"")+'"'+e.name+'":"'+e.val+'"'}),""!=l&&(l="{"+l+"}",e=$.param($.parseJSON(l))),e):e}function bbs_listing_getItemsCheckedSelects(t){var e=[],l="#dnn_ctr"+t+"_ModuleContent table tbody .icheck input",a="#frmCustomFieldListSelects"+t;$(l).each(function(){$(this).prop("checked")&&e.push({id:$(this).val()})}),$(a).val(JSON.stringify(e))}function bbs_listing_init(t){var e="#dnn_ctr"+t+"_ModuleContent table tbody .icheck input",l="#dnn_ctr"+t+"_ModuleContent .icheck input";$(l).iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}),$(e).on("ifChanged",function(l){$(l.target).attr("id")=="bbs_listing_chkbx_selall"+t?$(l.target).prop("checked")?$(e).iCheck("check"):$(e).iCheck("uncheck"):bbs_listing_getItemsCheckedSelects(t)}),$.applyDataMask(),$('[data-toggle="tooltip"]').tooltip(),window.scrollTo(0,0)}function bbs_listing_ref(t,e,l){$("#frmFilterData"+t).val(JSON.stringify(l)),lxFetch(t,null==e?0:e,"action=loadlisting",null,function(t){return"200"==t})}function bbs_getDealerTypesSelectorTemp(t){if(!t.id)return t.text;var e=$(t.element).data("meta"),l='<div class="select2-result-repository"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+e.name+"</div>";return e.descr&&(l+="<div class='select2-result-repository__subtitle'>"+e.descr+"</div>"),l+="</div>"}(function(t){var e={localzRes:{fldSelectorPlaceholderText:"Select item..."},dVal:null,modId:"",listSrcUrl:"",listSrcApiKey:"",listData:[],filterByTypes:null,filterByKind:null,minimumResultsForSearch:10,allowClear:!0,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return c()},setValue:function(t){this.each(function(e){u(this,t)})}};t.fn.bbsAccAgreeSelector=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsAccAgreeSelector"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n=t(e),c=(t(e).attr("id"),l.dVal);n.attr("name",n.attr("id")),n.attr("class","form-control select2-single"),n.data("val",null!=c?c:""),null!=l.listData?t(n).select2({theme:"bootstrap",ajax:r(e),data:l.listData,hideSelectionFromResult:s,escapeMarkup:function(t){return t},minimumResultsForSearch:l.minimumResultsForSearch,placeholder:l.localzRes.fldSelectorPlaceholderText,templateResult:i,templateSelection:o,allowClear:l.allowClear}).on("change.bbsaccagreeselector"+l.modId,l.onChange):t(n).select2({theme:"bootstrap",ajax:r(e),data:l.listData,hideSelectionFromResult:s,escapeMarkup:function(t){return t},minimumResultsForSearch:l.minimumResultsForSearch,placeholder:l.localzRes.fldSelectorPlaceholderText,templateResult:i,templateSelection:o,allowClear:l.allowClear}).on("change.bbsaccagreeselector"+l.modId,l.onChange),u(e,l.dVal)},r=function(t){var e=a(t),l=e.listSrcUrl,n=e.listSrcApiKey;if(!l||!n)return null;var r={url:l,dataType:"json",delay:250,cache:!1,type:"GET",data:function(t){return{skey:t.term,pg:t.page,apikey:n,kind:e.filterByKind,acctps:e.filterByTypes}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}}};return r},i=function(t){if(!t.id||""==t)return t.text;var e=t;if(!e||"object"!=typeof e)return t.text;t.text=t.title;var l='<div class="select2-result-repository"><div class="select2-result-repository__avatar"><img src="'+e.icnurl+'" class="img-sm img-circle"/></div><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+e.title+"</div>";return e.subtitle&&(l+="<div class='select2-result-repository__subtitle'>"+e.subtitle+"</div>"),l+="</div>"},o=function(t){if(!t.id||""==t)return t.text;var e=t;if(!e||"object"!=typeof e)return t.text;t.text=t.title;var l='<div class="select2-result-repository"><div class="select2-result-repository__avatar"><img src="'+e.icnurl+'" class="img-sm img-circle"/></div><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+e.title+"</div>";return e.subtitle&&(l+="<div class='select2-result-repository__subtitle'>"+e.subtitle+"</div>"),l+="</div>"},s=function(t){return!1},c=function(e){var l=t("#frmAccountGUID"+settings.modId).val();return l},u=function(e,l){if(l){var n=a(e);t(e);n.listData&&"object"==typeof n.listData&&t(e).val(l).trigger("change.select2")}}})(jQuery),function($){var defaults={localzRes:{placeholderText:"Select item..."},dVal:null,modId:"",minCurrResultsForSearch:7,enabled:!0,readOnly:!1,isReq:!1,currListData:[],defCurrId:null,onChange:function(){}},methods={init:function(t){var e={};return this.each(function(){e=$.extend(!0,{},defaults,t),$(this).data("settings",e),initWidget(this)})},getValue:function(){return getValue(this)},getDataValue:function(){return getDataValue(this)},setValue:function(t){this.each(function(e){setValue(this,t)})},setDataValue:function(t){this.each(function(e){setDataValue(this,t)})}},getSettings=function(t){return $(t).data("settings")},initWidget=function($this){var settings=getSettings($this),paneId=$($this).attr("id"),html="",pObj=$("#"+paneId),dVal=settings.dVal,strArrVal="",dVal_prc="",dVal_cur="";null!=dVal&&(strArrVal="["+dVal.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))?(dVal_prc=eval(strArrVal)[0],dVal_cur=eval(strArrVal)[1]):strArrVal=""),html+='<div class="form-group money-input">',html+='<div class="input input-group'+(0==settings.enabled?" state-disabled":"")+(settings.isReq?" reqInd":"")+'">',html+='<input type="text" id="frmVal_money'+settings.modId+'_price" name="frmVal_money'+settings.modId+'_price"'+(settings.readOnly?' readonly="readonly"':"")+(0==settings.enabled?' disabled="disabled"':"")+(dVal_prc?' value="'+dVal_prc+'"':"")+(settings.placeholderText?' placeholder="'+settings.placeholderText+'"':"")+' maxlength="15" style="border-right:none;"/>',html+="</div>",html+='<div class="select2 select2-group">',html+='<select id="frmVal_money'+settings.modId+'_curid" name="frmVal_money'+settings.modId+'_curid" class="select2-single">',$.each(settings.currListData,function(t,e){html+='<option value="'+e.id+'"'+(dVal_cur==e.id?' selected="selected"':"")+(e.hasOwnProperty("icncss")?' data-icn="'+e.icncss+'"':"")+">"+e.title+"</option>"}),html+="</select>",html+="</div>",html+="</div>",html+="</label>",pObj.append(html),$("#frmVal_money"+settings.modId+"_price").mask("# ##0",{reverse:!0}),$("#frmVal_money"+settings.modId+"_curid").select2({theme:"bootstrap",hideSelectionFromResult:function(t){return!1},escapeMarkup:function(t){return t},minimumResultsForSearch:settings.minCurrResultsForSearch,templateResult:getSelTemp,templateSelection:getSelTemp,allowClear:!1}),$("#frmVal_money"+settings.modId+"_curid").on("change.bbsmoneyinput"+settings.modId,function(){var t=getValue($this);settings.onChange.call($this,t)})},getSelTemp=function(t){if(!t.id)return t.text;var e=$(t.element).data("icn"),l=($(t.element).attr("value"),$(t.element).html()),a='<div class="select2-result-repository"><div class="select2-result-repository__cssicn"><i class="'+e+'"></i></div><div class="select2-result-repository__meta"><div class="select2-result-repository__title"> ('+l+")</div></div></div>";return a},getValue=function(t){var e=getSettings(t),l="",a=$("#frmVal_money"+e.modId+"_price").val(),n=$("#frmVal_money"+e.modId+"_curid").val();return a=a.replace(/ /g,""),0!=isNaN(a)&&(a=""),""!=a&&""!=n&&(l=a+"|"+n),l},getDataValue=function(t){var e=getSettings(t),l=null,a=$("#frmVal_money"+e.modId+"_price").val(),n=$("#frmVal_money"+e.modId+"_curid").val();return a=a.replace(/ /g,""),0!=isNaN(a)&&(a=""),""!=a&&""!=n&&(l={cur:n,val:a}),l},setDataValue=function(t,e){var l=getSettings(t);null!=e&&"object"==typeof e&&0!=e.length&&($("#frmVal_money"+l.modId+"_price").val(e.val),$("#frmVal_money"+l.modId+"_curid").val(e.cur).trigger("change.select2"))},setValue=function($this,v){var settings=getSettings($this),strArrVal="",c="",p="";""!=v&&(strArrVal="["+v.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))&&(p=eval(strArrVal)[0],c=eval(strArrVal)[1])),$("#frmVal_money"+settings.modId+"_price").val(p),$("#frmVal_money"+settings.modId+"_curid").val(c).trigger("change.select2")};$.fn.bbsMoneyInput=function(t){return methods[t]?methods[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.bbsMoneyInput"):methods.init.apply(this,arguments)}}(jQuery),function(t){var e={localzRes:{fldSelectorPlaceholderText:"Select country...",language:"en"},dVal:null,modId:"",listSrcUrl:"",listData:[],minimumResultsForSearch:0,allowClear:!0,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return s()}};t.fn.bbsCountryLocationSelector=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsCountryLocationSelector"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n=t(e),s=t(e).attr("id");l.dVal;n.attr("name",n.attr("id")),n.attr("class","form-control select2-single"),t(n).append('<option value=""></option>'),t(n).select2({theme:"bootstrap",language:l.localzRes.language,ajax:r(e),hideSelectionFromResult:o,escapeMarkup:function(t){return t},minimumResultsForSearch:l.minimumResultsForSearch,minimumInputLength:1,placeholder:l.localzRes.fldSelectorPlaceholderText,templateResult:i,templateSelection:i,allowClear:l.allowClear}),l.parentControl&&""==t("#"+l.parentControl).val()&&t(n).prop("disabled",!0),l.parentControl&&t("#"+l.parentControl).on("change",function(e){t(n).html('<option value=""></option>').trigger("change"),""==t("#"+l.parentControl).val()?t(n).prop("disabled",!0):t(n).prop("disabled",!1)}),t(n).on("select2:open",function(e){t("#select2-"+s+"-results").html("")})},r=function(t){var e=a(t),l=e.listSrcUrl,n="6FF51184-77C9-4C5A-B78A-60ACF76D4461";if(!l)return null;var r={url:l,dataType:"json",delay:250,cache:!1,type:"GET",data:function(t){return{skey:t.term,pg:t.page||1,apikey:n}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}}};return r},i=function(t){if(!t.id||"object"!=typeof d||""==t)return t.text;var e='<div class="select2-result-repository"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+t.text+"</div>";return e+="</div>"},o=function(t){return!1},s=function(e){var l=t("#frmAccountGUID"+settings.modId).val();return l}}(jQuery),function(t){var e={localzRes:{fldSelectorPlaceholderText:"Select location...",language:"en"},dVal:null,modId:"",listSrcUrl:"",listData:[],level:null,markVisible:!0,minimumResultsForSearch:0,minimumInputLength:0,allowClear:!0,parentControl:null,fullPathTitleVisible:!0,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return u()},clearValue:function(){clearFile()}};t.fn.bbsAddrLocationSelector=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsAddrLocationSelector"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n=t(e),i=t(e).attr("id");l.dVal;n.attr("name",n.attr("id")),n.attr("class","form-control select2-single"),t(n).append('<option value=""></option>'),t(n).select2({theme:"bootstrap",language:l.localzRes.language,ajax:r(e),hideSelectionFromResult:c,escapeMarkup:function(t){return t},minimumResultsForSearch:l.minimumResultsForSearch,minimumInputLength:l.minimumInputLength,placeholder:l.localzRes.fldSelectorPlaceholderText,templateResult:o,templateSelection:s,allowClear:l.allowClear}),l.parentControl&&""==t("#"+l.parentControl).val()&&t(n).prop("disabled",!0),l.parentControl&&t("#"+l.parentControl).on("change",function(e){t(n).html('<option value=""></option>').trigger("change"),""==t("#"+l.parentControl).val()?t(n).prop("disabled",!0):t(n).prop("disabled",!1)}),t(n).on("select2:open",function(e){t("#select2-"+i+"-results").html("")})},r=function(e){var l=a(e),n=l.listSrcUrl,r="5FF51184-77C9-4C5A-B78A-60ACF76D4459";if(!n||!r)return null;var i={url:n,dataType:"json",delay:250,cache:!1,type:"GET",data:function(e){var a="";return l.parentControl&&(a=t("#"+l.parentControl).val()),{skey:e.term,pg:e.page||1,apikey:r,lvl:l.level,pid:a}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}}};return i},i=function(e,l){var a;return t.each(e,function(t,e){if(e.lvl==l)return a=e,!1}),a},o=function(t){if(!t.id||""==t)return t.text;var e=t;if(!e||"object"!=typeof e)return t.text;t.text=t.name;var l,a="",n="",r=", ";return a=e.sname+" <mark>"+e.name+"</mark>",91==e.lvl&&(l=i(e.path,90),null!=l&&(a+=r+l.name+" "+l.sname)),90!=e.lvl&&91!=e.lvl||(l=i(e.path,7),null!=l&&(a+=r+l.name+" "+l.sname)),7!=e.lvl&&90!=e.lvl&&91!=e.lvl||(l=i(e.path,6),null!=l&&(a+=r+l.name+" "+l.sname)),6!=e.lvl&&7!=e.lvl&&90!=e.lvl&&91!=e.lvl||(l=i(e.path,5),null!=l&&(a+=r+l.name+" "+l.sname)),5!=e.lvl&&6!=e.lvl&&7!=e.lvl&&90!=e.lvl&&91!=e.lvl||(l=i(e.path,4),null!=l&&(a+=r+l.name+" "+l.sname)),4!=e.lvl&&5!=e.lvl&&6!=e.lvl&&7!=e.lvl&&90!=e.lvl&&91!=e.lvl||(l=i(e.path,3),null!=l&&(a+=r+l.name+" "+l.sname)),1!=e.lvl&&(l=i(e.path,1),null!=l&&(a+=r+l.name+" "+l.sname)),n='<div class="select2-result-repository"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+a+"</div>",n+="</div>"},s=function(t){if(!t.id||""==t)return t.text;var e=t;if(!e||"object"!=typeof e)return t.text;t.text=t.name;var l="",a="";return l=4==e.lvl?e.name:6==e.lvl?e.sname+" "+e.name:e.name+" "+e.sname,a='<div class="select2-result-repository"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+l+"</div>",a+="</div>"},c=function(t){return!1},u=function(e){var l=t("#frmAccountGUID"+settings.modId).val();return l}}(jQuery),function(t){var e={localzRes:{fldSelectorPlaceholderText:"Select home...",language:"en"},dVal:null,modId:"",listSrcUrl:"",listData:[],minimumResultsForSearch:0,allowClear:!0,parentControl:null,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return s()}};t.fn.bbsHomeLocationSelector=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsHomeLocationSelector"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n=t(e),s=t(e).attr("id");l.dVal;n.attr("name",n.attr("id")),n.attr("class","form-control select2-single"),t(n).append('<option value=""></option>'),t(n).select2({theme:"bootstrap",language:l.localzRes.language,ajax:r(e),hideSelectionFromResult:o,escapeMarkup:function(t){return t},minimumResultsForSearch:l.minimumResultsForSearch,minimumInputLength:1,placeholder:l.localzRes.fldSelectorPlaceholderText,templateResult:i,templateSelection:i,allowClear:l.allowClear}),l.parentControl&&""==t("#"+l.parentControl).val()&&t(n).prop("disabled",!0),l.parentControl&&t("#"+l.parentControl).on("change",function(e){t(n).html('<option value=""></option>').trigger("change"),""==t("#"+l.parentControl).val()?t(n).prop("disabled",!0):t(n).prop("disabled",!1)}),t(n).on("select2:open",function(e){t("#select2-"+s+"-results").html("")})},r=function(e){var l=a(e),n=l.listSrcUrl,r="6FF51184-77C9-4C5A-B78A-60ACF76D4460";if(!n||!l.parentControl)return null;var i={url:n,dataType:"json",delay:250,cache:!1,type:"GET",data:function(e){var a=t("#"+l.parentControl).val();return{skey:e.term,pg:e.page||1,apikey:r,pid:a}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:30*e.page<t.total_count}}}};return i},i=function(t){if(!t.id||""==t)return t.text;var e=t,l="";return e&&"object"==typeof e?(t.text=t.name,l='<div class="select2-result-repository"><div class="select2-result-repository__meta"><div class="select2-result-repository__title">'+e.hnum+(""!=e.bnum?"/"+e.bnum:"")+(""!=e.snum?"/"+e.snum:"")+"</div>",l+="</div>"):t.text},o=function(t){return!1},s=function(e){var l=t("#frmAccountGUID"+settings.modId).val();return l}}(jQuery),function(t){var e={localzRes:{selectorPlaceholderText:"Select folder...",emptyText:"Without folder"},dVal:null,modId:"",listData:null,disabled:!1,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return r(this)},setValue:function(t){this.each(function(e){i(this,t)})}};t.fn.xEditMDFolderSelect=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.xEditMDFolderSelect"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n="",r=(t(e),t(e).attr("id")),n=(l.dVal,""),o=null,s=l.listData;null!=s&&"object"==typeof s&&(o=s.extdata.srcurl),n+='<a href="#" id="'+r+'_editable" data-name="'+r+'_editable" data-emptytext="'+l.localzRes.emptyText+'" data-source="" class="editable-click" title="'+l.localzRes.selectorPlaceholderText+'">'+l.localzRes.selectorPlaceholderText+"</a>",0==l.disabled&&(n+='<button type="button" id="'+r+'_btnClear" class="btn btn-editable-clear btn-xs" style="display:none"><i class="fa fa-trash"></i></button>'),t(e).append(n),t("#"+r+"_editable").editable({pk:1,type:"jstree",placement:"bottom",savenochange:!0,showbuttons:"bottom",mode:"popup",disabled:l.disabled,editableform:{buttons:'<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa fa-fw fa-check"></i>1</button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa fa-fw fa-times"></i>2</button>'},error:function(t,e){return l.onChange.call(this,null),{nVal:e}},success:function(t,e){return l.onChange.call(this,e),{nVal:e}},display:function(e){null!=e&&"object"==typeof e?(t(this).text(e.pathtitle),t("#"+r+"_btnClear").show()):(t(this).text(l.localzRes.emptyText),t("#"+r+"_btnClear").hide())},jstree:{srsurl:o}}),i(e,l.dVal),t("#"+r+"_btnClear").on("click",function(e){t("#"+r+"_editable").editable("setValue",null),l.onChange.call(this,null)})},r=function(e){return t("#"+t(e).attr("id")+"_editable").editable("getValue",!0)},i=function(e,l){var a=t(e).attr("id");null!=l&&"object"==typeof l?0==l.length?l="":""==l.id&&(l=""):l="",""!=l&&(l.pathtitle=l.pathtitle.replace(/\{0\}/g," > ")),t("#"+a+"_editable").editable("setValue",l),""==l?t("#"+a+"_btnClear").hide():t("#"+a+"_btnClear").show()}}(jQuery),function(t){var e={localzRes:{selectorPlaceholderText:"Select location...",emptyText:"Without location"},dVal:null,modId:"",listData:null,listSrcUrl:"",listSrcApiKey:"",level:null,disabled:!1,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getValue:function(){return r(this)},setValue:function(t){this.each(function(e){i(this,t)})}};t.fn.xEditLocationSelect=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.xEditLocationSelect"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n="",r=(t(e),t(e).attr("id")),n=(l.dVal,"");n+='<a href="#" id="'+r+'_editable" data-name="'+r+'_editable" data-emptytext="'+l.localzRes.emptyText+'" data-source="" class="editable-click" title="'+l.localzRes.selectorPlaceholderText+'">'+l.localzRes.selectorPlaceholderText+"</a>",0==l.disabled&&(n+='<button type="button" id="'+r+'_btnClear" class="btn btn-editable-clear btn-xs" style="display:none"><i class="fa fa-trash"></i></button>'),t(e).append(n),t("#"+r+"_editable").editable({pk:1,type:"geoLocation",placement:"bottom",savenochange:!0,showbuttons:"bottom",mode:"popup",onblur:"ignore",disabled:l.disabled,editableform:{buttons:'<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa fa-fw fa-check"></i>1</button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa fa-fw fa-times"></i>2</button>'},error:function(t,e){return l.onChange.call(this,null),{nVal:e}},success:function(t,e){return l.onChange.call(this,e),{nVal:e}},display:function(e){null!=e&&"object"==typeof e?(t(this).text(e.title),t("#"+r+"_btnClear").show()):(t(this).text(l.localzRes.emptyText),t("#"+r+"_btnClear").hide())},geoLocation:{listData:l.listData,level:l.level}}),i(e,l.dVal),t("#"+r+"_btnClear").on("click",function(e){t("#"+r+"_editable").editable("setValue",null),l.onChange.call(this,null)})},r=function(e){return t("#"+t(e).attr("id")+"_editable").editable("getValue",!0)},i=function(e,l){var a=t(e).attr("id");null!=l&&"object"==typeof l?0==l.length?l="":""==l.id&&(l=""):l="",""!=l&&(l.title=l.title.replace(/\{0\}/g," > ")),t("#"+a+"_editable").editable("setValue",l),""==l?t("#"+a+"_btnClear").hide():t("#"+a+"_btnClear").show()}}(jQuery),function(t){var e={modId:"",listData:null,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})}};t.fn.bbsWFStatusSelector=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsWFStatusSelector"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l,n=a(e),r="",i=t(e),o=t(e).attr("id"),s=n.listData,c=t(e).data("val"),r="",u="";s&&c&&(t(i).addClass("btn-group"),t.each(n.listData.list,function(e,a){null==l?l=a:a.val==c&&(l=a),t.inArray(c,a.rule)>-1&&(u+='<li><a data-val="'+a.val+'" href="#">'+(a.icncss?'<i class="'+a.icncss+'" aria-hidden="true"></i> ':"")+a.title+"</a></li>")}),r='<button class="btn btn-'+(l.style?l.style:"primary")+(u?" dropdown-toggle":"")+" btn-labeled fa "+l.icncss+'"'+(u?' data-toggle="dropdown"':"")+' type="button"'+(u?"":' disabled="disabled"')+"> "+l.title+(u?' <i class="dropdown-caret"></i>':"")+"</button>",u&&(r+='<ul class="dropdown-menu dropdown-menu-right">'+u+"</ul>"),t(e).append(r),t("#"+o+" ul li a").on("click",function(){n.onChange.call(this,t(this).data("val"))}))}}(jQuery),function(t){var e={localzRes:{mdLocalzRes:null,btnAddMDItemTitle:""},title:"",description:"",formData:[],listData:[],currencyData:[],currencyId:"840",dVal:null,modId:"",listSrcUrl:"",listSrcApiKey:"",HTMLTemplate:"",separator:"<hr>",disabled:!1,maxItems:0,minItems:1,onChange:function(){}},l={init:function(l){var a={};return this.each(function(){a=t.extend(!0,{},e,l),t(this).data("settings",a),n(this)})},getFormData:function(t){return o(this,t)},getShortFormData:function(t,e){return getValueData(this,t,e)},getValueData:function(t,e){return getValueData(this,t,e)},fillForm:function(t){this.each(function(){fillForm(this,convertToFormData(this,t))})},clearForm:function(){this.each(function(){clearForm(this)})}};t.fn.bbsMDEditor=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.bbsMDEDitor"):l.init.apply(this,arguments)};var a=function(e){return t(e).data("settings")},n=function(e){var l=a(e),n="",i=(t(e),t(e).attr("id")),n=(l.dVal,"");n+='<div class="panel panel-default">',n+='<div class="panel-heading"><h3 class="panel-title">'+l.title+"</h3><small>"+l.description+"</small></div>",n+='<div id="'+i+'_mdeditorpane" class="panel-body" data-totalitems="0"></div>',n+='<div class="panel-footer">',0==l.disabled&&(n+='<button type="button" id="'+i+'_btnAddMDItem" class="btn btn-primary btn-xs"><i class="fa fa-plus"></i> '+l.localzRes.btnAddMDItemTitle+"</button>"),n+="</div>",n+="</div>",t(e).append(n),0==l.disabled&&t("#"+i+"_btnAddMDItem").on("click",function(){r(e)});for(var o=1;o<=l.minItems;o++)r(e)},r=function(e){var l=a(e),n=t(e).attr("id"),r="",o=0,s="";o=t("#"+n+"_mdeditorpane").data("totalitems"),null==o&&(o=0),o+=1,s=n+"_mditem"+o,l.maxItems>0&&l.maxItems<o||(r+='<div id="'+s+'">',o>1&&(r+=l.separator),r+='<div class="sky-form">',0==l.disabled&&l.minItems<o&&(r+='<div class="clearfix"><button type="button" data-action="'+n+'_delmditem" data-itmid="'+o+'" class="btn btn-sm pull-right"><i class="fa fa-trash"></i></button></div>'),r+=l.HTMLTemplate.replace(/\{0\}/g,l.modId+o),t("#"+n+"_mdeditorpane").append(r),t("#"+n+"_mdeditorpane").data("totalitems",o),0==l.disabled&&t('button[data-action="'+n+'_delmditem"]').on("click",function(){i(e,t(this).data("itmid"))}),t("#"+s).fastForm({localzRes:l.localzRes.mdLocalzRes,formId:"#Form",modId:l.modId+o,currencyData:l.currencyData,currencyId:l.currencyId,formData:l.formData,listData:l.listData}))},i=function(e,l){var n=(a(e),t(e).attr("id"));t("#"+n+"_mditem"+l).remove()},o=function(e){var l=(a(e),t(e).attr("id")),n=0,r=[];if(n=t("#"+l+"_mdeditorpane").data("totalitems"),null==n&&(n=0),0!=n){for(var i=1;i<=n;i++){var o=t("#"+l+"_mditem"+i).fastForm("getFormData");r.push({item:o})}return r}}}(jQuery);