!function($){var defaults={localzRes:{placeholderText:"Select item..."},dVal:null,modId:"",minCurrResultsForSearch:7,enabled:!0,readOnly:!1,isReq:!1,currListData:[],defCurrId:null,onChange:function(){}},methods={init:function(e){var t={};return this.each(function(){t=$.extend(!0,{},defaults,e),$(this).data("settings",t),initWidget(this)})},getValue:function(){var e="";return this.each(function(){return e=getValue(this),!1}),e}},getSettings=function(e){return $(e).data("settings")},initWidget=function($this){var settings=getSettings($this),paneId=$($this).attr("id"),html="",pObj=$("#"+paneId),dVal=settings.dVal,strArrVal="",dVal_prc="",dVal_cur="";null!=dVal&&(strArrVal="["+dVal.replace(/\|/g,",")+"]",$.isArray(eval(strArrVal))?(dVal_prc=eval(strArrVal)[0],dVal_cur=eval(strArrVal)[1]):strArrVal=""),html+='<div class="form-group money-input">',html+='<div class="input input-group'+(0==settings.enabled?" state-disabled":"")+(settings.isReq?" reqInd":"")+'">',html+='<input type="text" id="frmVal_money'+settings.modId+'_price" name="frmVal_money'+settings.modId+'_price"'+(settings.readOnly?' readonly="readonly"':"")+(0==settings.enabled?' disabled="disabled"':"")+(dVal_prc?' value="'+dVal_prc+'"':"")+(settings.placeholderText?' placeholder="'+settings.placeholderText+'"':"")+' maxlength="15" style="border-right:none;"/>',html+="</div>",html+='<div class="select2 select2-group">',html+='<select id="frmVal_money'+settings.modId+'_curid" name="frmVal_money'+settings.modId+'_curid" class="select2-single">',$.each(settings.currListData,function(e,t){html+='<option value="'+t.id+'"'+(dVal_cur==t.id?' selected="selected"':"")+(t.hasOwnProperty("icncss")?' data-icn="'+t.icncss+'"':"")+">"+t.title+"</option>"}),html+="</select>",html+="</div>",html+="</div>",html+="</label>",pObj.append(html),$("#frmVal_money"+settings.modId+"_price").mask("# ##0",{reverse:!0}),$("#frmVal_money"+settings.modId+"_curid").select2({theme:"bootstrap",hideSelectionFromResult:function(e){return!1},escapeMarkup:function(e){return e},minimumResultsForSearch:settings.minCurrResultsForSearch,templateResult:getSelTemp,templateSelection:getSelTemp,allowClear:!1}),$("#frmVal_money"+settings.modId+"_curid").on("change.bbsmoneyinput"+settings.modId,function(){var e=getValue($this);settings.onChange.call($this,e)})},getSelTemp=function(e){if(!e.id)return e.text;var t=$(e.element).data("icn"),s=($(e.element).attr("value"),$(e.element).html()),l='<div class="select2-result-repository"><div class="select2-result-repository__cssicn"><i class="'+t+'"></i></div><div class="select2-result-repository__meta"><div class="select2-result-repository__title"> ('+s+")</div></div></div>";return l},getValue=function(e){var t=getSettings(e),s="",l=$("#frmVal_money"+t.modId+"_price").val(),r=$("#frmVal_money"+t.modId+"_curid").val();return l=l.replace(/ /g,""),0!=isNaN(l)&&(l=""),""!=l&&""!=r&&(s=l+"|"+r),s};$.fn.bbsMoneyInput=function(e){return methods[e]?methods[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.bbsMoneyInput"):methods.init.apply(this,arguments)}}(jQuery);